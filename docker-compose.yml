version: '3'

services:
  product-service:
    build: ./product
    image: product-service
    volumes:
      - ./product:/usr/src/app
    ports:
      - 5001:80

  website:
    image: php:apache
    volumes:
      - ./website:/var/www/html
    ports:
      - 5000:80
    depends_on:
      - product-service


#docker compose lets us define all our services in a configuration file and in one command it will spin u pall the containers
#we need

#version of docker compose format to write in

#specify our services/ microservices
#product-services giving directory where docker compose file is
  # biuld
#the iamge in first service, im naming the image for the container to spin uo from.
#-specify volumes: directory on host to mount on image. image will already have code inside, but mounting onto the image
  #makes it easier as you can see live code changes as it happens. (is it synced?)

#because mounted python sees the change and detects this an dreload

      # ports - can ise 80 buy might clash wih something else using the port
